Requirements :
curl, docker and docker-compose installed.



curl -L http://localhost:7020/5200400005400/
curl -L http://localhost:7020/change_to_dadata
curl -L http://localhost:7020/5200400005400/
curl -L http://localhost:7020/change_to_database

docker-compose up -d --build  && docker-compose logs -f
docker-compose up -d --build --scale service-database=2 --scale service-dadata=2 && docker-compose logs -f


docker stop $(docker ps -a -q)
docker ps -a
docker rm kladr_consul_1 &&
docker rm kladr_service-route_1 &&
docker rm kladr_service-database_1    &&
docker rm kladr_service-dadata_1  &&
docker rm kladr_postgres_1 &&
docker stop $(docker ps -a -q) && docker rm kladr_consul_1 && docker rm kladr_service-dadata_1  &&  docker rm kladr_service-route_1  && docker rm kladr_service-database_1 && docker rm kladr_postgres_1

curl -s -XPUT -d"{
  \"Name\": \"postgres\",
  \"ID\": \"postgres\",
  \"Tags\": [ \"postgres\" ],
  \"Address\": \"localhost\",
  \"Port\": 5432,
  \"Check\": {
    \"Name\": \"PostgreSQL TCP on port 5432\",
    \"ID\": \"postgres\",
    \"Interval\": \"10s\",
    \"TCP\": \"postgres:5432\",
    \"Timeout\": \"1s\",
    \"Status\": \"passing\"
  }
}" localhost:8500/v1/agent/service/register